<div class="row pb-4 pt-5">
  <div class="col">
    <span class="page-title ps-5">{{heading}}</span>
  </div>
</div>

<form #form="ngForm" (ngSubmit)="onSubmit(form)">
  <div class="flex-container">
    <div class="flex-left">
      <div class="img-div">
        <img class="crop-img" src="data:image/jpg;base64,{{message.picture}}" (click)="fileUpload.click()" style="cursor: pointer;">
      </div>
      <div>
        <input type="file" class="file-input" (change)="uploadSingleImage($event)" #fileUpload/>
      </div>
      <label class="upload-label text-muted">
        Upload Image
      </label>
      <div class="invalid-feedback">
        Image is required
      </div>
    </div>
    <div class="flex-right">
      <label for="newsTitle" class="col-form-label text-md-start text-muted">
        Title
      </label>
      <textarea rows="1" class="form-control" form="ngForm" name="message.title" [(ngModel)]="message.title" required></textarea>
      <div class="invalid-feedback">
        Title is required
      </div>
      <label for="newsShortDescription" class="col-form-label text-md-start text-muted">
        Short Description
      </label>
      <textarea rows="2" class="form-control" form="ngForm" name="message.shortDescription" [(ngModel)]="message.shortDescription" required></textarea>
      <div class="invalid-feedback">
        Short description is required
      </div>
      <label for="newsDescription" class="col-form-label text-md-start text-muted">
        Description
      </label>
      <textarea rows="5" class="form-control" form="ngForm" name="message.description" [(ngModel)]="message.description" required></textarea>
      <div class="invalid-feedback">
        Description is required
      </div>
      <div style="text-align: right; width: 80%;">
        <label class="col-form-label text-md-start text-muted">
          All fields are required.
        </label>
      </div>
      <div class="d-flex flex-row justify-content-between">
        <button type="button" class="cancel-button" routerLink="/message" routerLinkActive="active">Cancel</button>
        <button type="submit"
        class="create-edit-button"
        [disabled]="!form.valid"
        >
        {{submitButtonText}}
        </button>
      </div>
    </div>
  </div>
</form>
